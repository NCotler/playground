<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>GridMove</title>
    <style>

      div#TextDiv {
        vertical-align: top;
      }

    </style>
</head>

<body>
  <div style="display: inline-block">
    <canvas id="myCanvas" width="600" height="600" style="border:10px solid #000000;"></canvas>
  </div>
  <div style="display: inline-block" id="TextDiv">
        <p>Use arrow keys to move.</p> 
        <p id="WhatIsGoal">Move to the green tile in bottom right.</p>
      </div>
</body>
<script>
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

    var width = c.width;
    var height = c.height;
  
    var numberOfTilesX_axis = 10;
    var numberOfTilesY_axis = numberOfTilesX_axis;

    var centerOfTileToSideOfTile = (width/(numberOfTilesX_axis*2));
    var centerOfTileToTopOfTile = (width/(numberOfTilesX_axis*2));

function drawTileGrid()
{
      ctx.lineWidth = 1;
      ctx.strokeStyle = '#000000';
      for (var i = 1; i < numberOfTilesX_axis; i++) {
        ctx.beginPath();
        ctx.moveTo(i * (centerOfTileToSideOfTile*2), 0);
        ctx.lineTo(i * (centerOfTileToSideOfTile*2), height);
        ctx.stroke();
    }

    for (var i = 1; i < numberOfTilesY_axis; i++) {
        ctx.beginPath();
        ctx.moveTo(0, i * (centerOfTileToTopOfTile*2));
        ctx.lineTo(width, i * (centerOfTileToTopOfTile*2));
        ctx.stroke();
    }
}

function drawGoalTile()
{
  ctx.beginPath();
  ctx.lineWidth=2;
  ctx.strokeStyle='#11DAFF';
  ctx.fillStyle = "green";
  ctx.rect(tileToPixelCenter[numberOfTilesX_axis-1]-centerOfTileToSideOfTile,tileToPixelCenter[numberOfTilesY_axis-1]-centerOfTileToTopOfTile,centerOfTileToSideOfTile*2,centerOfTileToTopOfTile*2); 
  ctx.fill();
  ctx.stroke();
}

var tileToPixelCenter = [];

//create array for getting pixel center points of tiles
    for(var i = 1; i <= numberOfTilesY_axis; i++)
    {
        tileToPixelCenter.push((i*(width/(numberOfTilesX_axis)))-(width/(numberOfTilesX_axis*2)));
    }
        var player = {
      radius: (centerOfTileToSideOfTile) - (width/120),
      X: 0,
      Y: 0,
    };
  
      function drawPlayer(X,Y)
      {
      ctx.beginPath();
      ctx.arc(tileToPixelCenter[X],tileToPixelCenter[Y], player.radius, 0, 2 * Math.PI, false);
      ctx.fillStyle = '#BADA55';
      ctx.fill();
      ctx.lineWidth = 5;
      ctx.strokeStyle = '#B000B5';
      ctx.stroke();
      }

      function checkForVictory()
      {
        if(player.X == numberOfTilesX_axis-1 && player.Y == numberOfTilesY_axis-1)
        {
          document.getElementById("WhatIsGoal").innerText = "YOU WIN!";
        }
      }

      function reDrawCanvas()
      {
        ctx.clearRect(0, 0, width, height);
        drawTileGrid();
        drawGoalTile();
        drawPlayer(player.X, player.Y);
        checkForVictory()
      }
  
  drawTileGrid();
  drawGoalTile();
  drawPlayer(player.X, player.Y);

      document.addEventListener('keydown', function(event) {
        const key = event.key; // "ArrowRight", "ArrowLeft", "ArrowUp", or "ArrowDown"
        switch (key) {
        case "ArrowLeft":
            if(player.X < 1)
            {
              alert("out of bounds");
            }
            else
            {
              player.X -= 1;
            }
            break;
        case "ArrowUp":
            if(player.Y < 1)
            {
              alert("out of bounds");
            }
            else
            {
              player.Y -= 1;
            }
            break;
        case "ArrowRight":
            if(player.X >= numberOfTilesX_axis-1)
            {
              alert("out of bounds");
            }
            else
            {
              player.X += 1;
            }
            break;
        case "ArrowDown":            
            if(player.Y >= numberOfTilesY_axis-1)
            {
              alert("out of bounds");
            }
            else
            {
              player.Y += 1;
            }
            break;
        }
        reDrawCanvas()
      });

</script>

</html>